Label,Description,Expression,DRIVEALONE,SHARED2,SHARED3,WALK,BIKE,WALK_AB,WALK_BM,WALK_MR,WALK_CR,PNR_AB,PNR_BM,PNR_MR,PNR_CR,KNR_AB,KNR_BM,KNR_MR,KNR_CR,SCHOOLBUS,TAXI,TNC_SINGLE,TNC_SHARED
#Drive_alone,#Drive alone no toll,,,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Unavailable,DRIVEALONE - Unavailable,@(odt_skims['SOV_TIME']==0),-999,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Unavailable_for_persons_less_than_16,DRIVEALONE - Unavailable for persons less than 16,age < 16,-999,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Unavailable_for_joint_tours,DRIVEALONE - Unavailable for joint tours,is_joint == True,-999,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Unavailable_if_didn't_drive_to_work,DRIVEALONE - Unavailable if didn't drive to work,is_atwork_subtour & ~work_tour_is_SOV,-999,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_In_vehicle_time,DRIVEALONE - In-vehicle time,@odt_skims['SOV_TIME'],coef_ivt,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Terminal_time,DRIVEALONE - Terminal time,@df.total_terminal_time,coef_walktimeshort,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Operating_cost,DRIVEALONE - Operating cost,@costPerMile * odt_skims['SOV_DIST'] * df.ivot,coef_cost,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Parking_cost,DRIVEALONE - Parking cost ,@df.total_parking_cost * df.ivot,coef_cost,,,,,,,,,,,,,,,,,,,,
# util_DRIVEALONE_Person_is_between_16_and_19_years_old,DRIVEALONE - Person is between 16 and 19 years old,@c_age1619_da * ((df.age >= 16) & (df.age <= 19)),coef_age1619_da,,,,,,,,,,,,,,,,,,,,
util_DRIVEALONE_Total_toll_cost,DRIVEALONE - Total Toll,@odt_skims['SOV_TOLL'] * 1.22 * df.ivot,coef_cost,,,,,,,,,,,,,,,,,,,,
#Shared_ride_2,#Shared ride 2,,,,,,,,,,,,,,,,,,,,,,
util_SHARED2_Unavailable,SHARED2 - Unavailable,@(odt_skims['HOV2_TIME']==0),,-999,,,,,,,,,,,,,,,,,,,
util_SHARED2_Unavailable_based_on_party_size,SHARED2 - Unavailable based on party size,is_joint & (number_of_participants > 2),,-999,,,,,,,,,,,,,,,,,,,
util_SHARED2_In_vehicle_time,SHARED2 - In-vehicle time,@odt_skims['HOV2_TIME'],,coef_ivt,,,,,,,,,,,,,,,,,,,
util_SHARED2_Terminal_time,SHARED2 - Terminal time,@df.total_terminal_time,,coef_walktimeshort,,,,,,,,,,,,,,,,,,,
util_SHARED2_Operating_cost,SHARED2 - Operating cost,@costPerMile * odt_skims['HOV2_DIST'] * df.ivot,,coef_cost,,,,,,,,,,,,,,,,,,,
util_SHARED2_Parking_cost,SHARED2 - Parking cost,@df.ivot * df.total_parking_cost / costShareSr2,,coef_cost,,,,,,,,,,,,,,,,,,,
# util_SHARED2_One_person_household,SHARED2 - One person household,@(df.hhsize == 1),,coef_hhsize1_sr,,,,,,,,,,,,,,,,,,,
# util_SHARED2_Two_person_household,SHARED2 - Two person household,@(df.hhsize == 2),,coef_hhsize2_sr,,,,,,,,,,,,,,,,,,,
# util_SHARED2_Person_is_16_years_old_or_older,SHARED2 - Person is 16 years old or older,@(df.age >= 16),,coef_age16p_sr,,,,,,,,,,,,,,,,,,,
util_SHARED2_Total_toll,SHARED2 - Total toll,@(odt_skims['HOV2_TOLL']  / costShareSr2) * 1.22 * df.ivot,,coef_cost,,,,,,,,,,,,,,,,,,,
#Shared_ride_3+,#Shared ride 3+,,,,,,,,,,,,,,,,,,,,,,
util_SHARED3_Unavailable,SHARED3 - Unavailable,@(odt_skims['HOV3_TIME']==0),,,-999,,,,,,,,,,,,,,,,,,
util_SHARED3_Unavailable_based_joint_tour_mode,SHARED3 - Unavailable based joint tour mode,@df.is_joint & df.i_tour_mode.isin(I_SR2_MODES),,,-999,,,,,,,,,,,,,,,,,,
util_SHARED3_Unavailable_if_tour_mode_is_shared_2,SHARED3 - Unavailable if tour mode is shared 2,@df.i_tour_mode.isin(I_SR2_MODES),,,-999,,,,,,,,,,,,,,,,,,
util_SHARED3_In_vehicle_time,SHARED3 - In-vehicle time,@odt_skims['HOV3_TIME'],,,coef_ivt,,,,,,,,,,,,,,,,,,
util_SHARED3_Terminal_time,SHARED3 - Terminal time,@df.total_terminal_time,,,coef_walktimeshort,,,,,,,,,,,,,,,,,,
util_SHARED3_Operating_cost,SHARED3 - Operating cost,@costPerMile * odt_skims['HOV3_DIST'] * df.ivot,,,coef_cost,,,,,,,,,,,,,,,,,,
util_SHARED3_Parking_cost,SHARED3 - Parking cost,@df.ivot * df.total_parking_cost / costShareSr3,,,coef_cost,,,,,,,,,,,,,,,,,,
# util_SHARED3_One_person_household,SHARED3 - One person household,@(df.hhsize == 1),,,coef_hhsize1_sr,,,,,,,,,,,,,,,,,,
# util_SHARED3_Two_person_household,SHARED3 - Two person household,@(df.hhsize == 2),,,coef_hhsize2_sr,,,,,,,,,,,,,,,,,,
# util_SHARED3_Person_is_16_years_old_or_older,SHARED3 - Person is 16 years old or older,@(df.age >= 16),,,coef_age16p_sr,,,,,,,,,,,,,,,,,,
util_SHARED3_Total_toll,SHARED3 - Total toll,@(odt_skims['HOV3_TOLL'] / costShareSr3) * 1.22 * df.ivot,,,coef_cost,,,,,,,,,,,,,,,,,,
#Walk,#Walk,,,,,,,,,,,,,,,,,,,,,,
util_WALK_Unavailable,Walk not available for long distances,@(od_skims['DISTWALK'] > 3),,,,-999,,,,,,,,,,,,,,,,,
util_WALK_Time,WALK Time,@od_skims['DISTWALK'] * 60 / walkSpeed,,,,coef_walktime,,,,,,,,,,,,,,,,,
# util_WALK_Destination_zone_densityIndex,WALK - Destination zone densityIndex,@df.density_index,,,,coef_density_walk,,,,,,,,,,,,,,,,,
#Bike,#Bike,,,,,,,,,,,,,,,,,,,,,,
util_BIKE_Unavailable,BIKE - Unavailable if tour mode is not bike,~tour_mode_is_bike,,,,,-999,,,,,,,,,,,,,,,,
util_Bike_not_available_for_long_distances,Bike not available for long distances,@(od_skims['DISTBIKE'] > 8),,,,,-999,,,,,,,,,,,,,,,,
util_BIKE_Unavailable_if_didn't_bike_to_work,BIKE - Unavailable if didn't bike to work,is_atwork_subtour & ~work_tour_is_bike,,,,,-999,,,,,,,,,,,,,,,,
util_BIKE_Time,Bike Time,@od_skims['DISTBIKE'] * 60 / bikeSpeed,,,,,coef_bike_time,,,,,,,,,,,,,,,,
# util_BIKE_Destination_zone_densityIndex,BIKE - Destination zone densityIndex,@df.density_index,,,,,coef_density_bike,,,,,,,,,,,,,,,,
#Walk_to_AB,#Walk to AB,,,,,,,,,,,,,,,,,,,,,,
util_WALK_AB_Unavailable,WALK_AB - Unavailable,@(odt_skims['WK_AB_WK_TOTIVT']==0),,,,,,-999,,,,,,,,,,,,,,,
util_WALK_AB_In_vehicle_time,WALK_AB - In-vehicle time,@odt_skims['WK_AB_WK_TOTIVT'],,,,,,coef_ivt,,,,,,,,,,,,,,,
# util_WALK_AB_Express_bus_time,WALK_AB - IVT on express bus,@odt_skims['WK_AB_WK_IVTXB'],,,,,,coef_ivtxb,,,,,,,,,,,,,,,
util_WALK_AB_iwait_time,WALK_AB - Short iwait time,@(odt_skims['WK_AB_WK_IWAIT']) ,,,,,,coef_iwait,,,,,,,,,,,,,,,
util_WALK_AB_transfer_wait_time,WALK_AB - transfer wait time,@odt_skims['WK_AB_WK_XWAIT'],,,,,,coef_xwait,,,,,,,,,,,,,,,
#util_WALK_AB_number_of_transfers,WALK_AB - number of transfers,@(odt_skims['WK_AB_WK_XFERS']).clip(0),,,,,,coef_xfers_wlk,,,,,,,,,,,,,,,
util_WALK_AB_Walk_access_time,WALK_AB - Walk access time,@odt_skims['WK_AB_WK_WACC_EGR'],,,,,,coef_walktimeshort,,,,,,,,,,,,,,,
util_WALK_AB_Walk_other_time,WALK_AB - Walk other time,@odt_skims['WK_AB_WK_WAUX'],,,,,,coef_auxwalk,,,,,,,,,,,,,,,
util_WALK_AB_Fare,WALK_AB - Fare,@odt_skims['WK_AB_WK_FARE'] * df.ivot * (1 - df.trn_fare_subs_pct),,,,,,coef_cost,,,,,,,,,,,,,,,
# util_WALK_AB_Destination_zone_densityIndex,WALK_AB - Destination zone densityIndex,@df.density_index,,,,,,coef_density_wtrn,,,,,,,,,,,,,,,
# util_WALK_AB_Person_is_less_than_10_years_old,WALK_AB - Person is less than 10 years old,@(df.age <= 10),,,,,,coef_age010_trn,,,,,,,,,,,,,,,
#Walk_to_BM,#Walk to BM,,,,,,,,,,,,,,,,,,,,,,
util_WALK_BM_Unavailable,WALK_BM - Unavailable,@(odt_skims['WK_BM_WK_TOTIVT']==0),,,,,,,-999,,,,,,,,,,,,,,
util_WALK_BM_In_vehicle_time,WALK_BM - In-vehicle time,@odt_skims['WK_BM_WK_TOTIVT'],,,,,,,coef_ivt,,,,,,,,,,,,,,
# util_WALK_BM_Express_bus_time,WALK_AB - IVT on express bus,@odt_skims['WK_BM_WK_IVTXB'],,,,,,,coef_ivtxb,,,,,,,,,,,,,,
# util_WALK_BM_Metrorail_time,WALK_AB - IVT on express bus,@odt_skims['WK_BM_WK_IVTMR'],,,,,,,coef_ivtmr,,,,,,,,,,,,,,
util_WALK_BM_iwait_time,WALK_BM - Short iwait time,@(odt_skims['WK_BM_WK_IWAIT']),,,,,,,coef_iwait,,,,,,,,,,,,,,
util_WALK_BM_transfer_wait_time,WALK_BM - transfer wait time,@odt_skims['WK_BM_WK_XWAIT'],,,,,,,coef_xwait,,,,,,,,,,,,,,
#util_WALK_BM_number_of_transfers,WALK_BM - number of transfers,@(odt_skims['WK_BM_WK_XFERS']).clip(0),,,,,,,coef_xfers_wlk,,,,,,,,,,,,,,
util_WALK_BM_Walk_access_time,WALK_BM - Walk access time,@odt_skims['WK_BM_WK_WACC_EGR'],,,,,,,coef_walktimeshort,,,,,,,,,,,,,,
util_WALK_BM_Walk_other_time,WALK_BM - Walk other time,@odt_skims['WK_BM_WK_WAUX'],,,,,,,coef_auxwalk,,,,,,,,,,,,,,
util_WALK_BM_Fare,WALK_BM - Fare,@odt_skims['WK_BM_WK_FARE'] * df.ivot * (1 - df.trn_fare_subs_pct),,,,,,,coef_cost,,,,,,,,,,,,,,
# util_WALK_BM_Destination_zone_densityIndex,WALK_BM - Destination zone densityIndex,@df.density_index,,,,,,,coef_density_wtrn,,,,,,,,,,,,,,
# util_WALK_BM_Person_is_less_than_10_years_old,WALK_BM - Person is less than 10 years old,@(df.age <= 10),,,,,,,coef_age010_trn,,,,,,,,,,,,,,
#Walk_to_MR,#Walk to MR,,,,,,,,,,,,,,,,,,,,,,
util_WALK_MR_Unavailable,WALK_MR - Unavailable,@(odt_skims['WK_MR_WK_TOTIVT']==0),,,,,,,,-999,,,,,,,,,,,,,
util_WALK_MR_In_vehicle_time,WALK_MR - In-vehicle time,@odt_skims['WK_MR_WK_TOTIVT'],,,,,,,,coef_ivt,,,,,,,,,,,,,
util_WALK_MR_iwait_time,WALK_MR - Short iwait time,@(odt_skims['WK_MR_WK_IWAIT']),,,,,,,,coef_iwait,,,,,,,,,,,,,
util_WALK_MR_transfer_wait_time,WALK_MR - transfer wait time,@odt_skims['WK_MR_WK_XWAIT'],,,,,,,,coef_xwait,,,,,,,,,,,,,
#util_WALK_MR_number_of_transfers,WALK_MR - number of transfers,@(odt_skims['WK_MR_WK_XFERS']).clip(0),,,,,,,,coef_xfers_wlk,,,,,,,,,,,,,
util_WALK_MR_Walk_access_time,WALK_MR - Walk access time,@odt_skims['WK_MR_WK_WACC_EGR'],,,,,,,,coef_walktimeshort,,,,,,,,,,,,,
util_WALK_MR_Walk_other_time,WALK_MR - Walk other time,@odt_skims['WK_MR_WK_WAUX'],,,,,,,,coef_auxwalk,,,,,,,,,,,,,
util_WALK_MR_Fare,WALK_MR - Fare,@odt_skims['WK_MR_WK_FARE'] * df.ivot * (1 - df.trn_fare_subs_pct),,,,,,,,coef_cost,,,,,,,,,,,,,
# util_WALK_MR_Destination_zone_densityIndex,WALK_MR - Destination zone densityIndex,@df.density_index,,,,,,,,coef_density_wtrn,,,,,,,,,,,,,
# util_WALK_MR_Person_is_less_than_10_years_old,WALK_MR - Person is less than 10 years old,@(df.age <= 10),,,,,,,,coef_age010_trn,,,,,,,,,,,,,
#Walk_to_CR,#Walk to CR,,,,,,,,,,,,,,,,,,,,,,
util_WALK_CR_Unavailable,WALK_CR - Unavailable,@(odt_skims['WK_CR_WK_TOTIVT']==0),,,,,,,,,-999,,,,,,,,,,,,
util_WALK_CR_In_vehicle_time,WALK_CR - In-vehicle time,@odt_skims['WK_CR_WK_TOTIVT'],,,,,,,,,coef_ivt,,,,,,,,,,,,
# util_WALK_CR_Express_bus_time,WALK_CR - XB IVT,@odt_skims['WK_CR_WK_IVTXB'],,,,,,,,,coef_ivtxb,,,,,,,,,,,,
# util_WALK_CR_Metrorail_time,WALK_CR - MR IVT,@odt_skims['WK_CR_WK_IVTMR'],,,,,,,,,coef_ivtmr,,,,,,,,,,,,
# util_WALK_CR_commrail_time,WALK_CR - CR IVT,@odt_skims['WK_CR_WK_IVTCR'],,,,,,,,,coef_ivtcr,,,,,,,,,,,,
util_WALK_CR_iwait_time,WALK_CR - Short iwait time,@(odt_skims['WK_CR_WK_IWAIT']),,,,,,,,,coef_iwait,,,,,,,,,,,,
util_WALK_CR_transfer_wait_time,WALK_CR - transfer wait time,@odt_skims['WK_CR_WK_XWAIT'],,,,,,,,,coef_xwait,,,,,,,,,,,,
#util_WALK_CR_number_of_transfers,WALK_CR - number of transfers,@(odt_skims['WK_CR_WK_XFERS']).clip(0),,,,,,,,,coef_xfers_wlk,,,,,,,,,,,,
util_WALK_CR_Walk_access_time,WALK_CR - Walk access time,@odt_skims['WK_CR_WK_WACC_EGR'],,,,,,,,,coef_walktimeshort,,,,,,,,,,,,
util_WALK_CR_Walk_other_time,WALK_CR - Walk other time,@odt_skims['WK_CR_WK_WAUX'],,,,,,,,,coef_auxwalk,,,,,,,,,,,,
util_WALK_CR_Fare,WALK_CR - Fare,@odt_skims['WK_CR_WK_FARE'] * df.ivot * (1 - df.trn_fare_subs_pct),,,,,,,,,coef_cost,,,,,,,,,,,,
# util_WALK_CR_Destination_zone_densityIndex,WALK_CR - Destination zone densityIndex,@df.density_index,,,,,,,,,coef_density_wtrn,,,,,,,,,,,,
# util_WALK_CR_Person_is_less_than_10_years_old,WALK_CR - Person is less than 10 years old,@(df.age <= 10),,,,,,,,,coef_age010_trn,,,,,,,,,,,,
#PNR_to_AB,#PNR to AB,,,,,,,,,,,,,,,,,,,,,,
#util_PNR_AB_Unavailable,PNR_AB - Unavailable for zero auto households,auto_ownership == 0,,,,,,,,,,-999,,,,,,,,,,,
util_PNR_AB_Unavailable_for_persons_less_than_16,PNR_AB - Unavailable for persons less than 16,age < 16,,,,,,,,,,-999,,,,,,,,,,,
# util_PNR_AB_Destination_zone_densityIndex,PNR_AB - Destination zone densityIndex,@df.density_index,,,,,,,,,,coef_density_dtrn,,,,,,,,,,,
util_PNR_AB_outbound_Unavailable,PNR_AB outbound - Unavailable,@df.outbound & (odt_skims['DR_AB_WK_TOTIVT']==0),,,,,,,,,,-999,,,,,,,,,,,
util_PNR_AB_outbound_In_vehicle_time,PNR_AB outbound - In-vehicle time,@df.outbound * odt_skims['DR_AB_WK_TOTIVT'],,,,,,,,,,coef_ivt,,,,,,,,,,,
# util_PNR_AB_outbound_Express_bus_time,PNR_AB - IVT on express bus,@df.outbound * odt_skims['DR_AB_WK_IVTXB'],,,,,,,,,,coef_ivtxb,,,,,,,,,,,
util_PNR_AB_outbound_iwait_time,PNR_AB outbound - Short iwait time,@df.outbound * (odt_skims['DR_AB_WK_IWAIT']),,,,,,,,,,coef_iwait,,,,,,,,,,,
util_PNR_AB_outbound_transfer_wait_time,PNR_AB outbound - transfer wait time,@df.outbound * odt_skims['DR_AB_WK_XWAIT'],,,,,,,,,,coef_xwait,,,,,,,,,,,
util_PNR_AB_outbound_number_of_transfers,PNR_AB outbound - number of transfers,@df.outbound * (odt_skims['DR_AB_WK_XFERS']).clip(0),,,,,,,,,,coef_xfers_drv,,,,,,,,,,,
util_PNR_AB_outbound_Drive_time,PNR_AB outbound - Drive time,@df.outbound * odt_skims['DR_AB_WK_DTIME'],,,,,,,,,,coef_drivetime,,,,,,,,,,,
util_PNR_AB_outbound_Walk_egress_time,PNR_AB outbound - Walk egress time,@df.outbound * odt_skims['DR_AB_WK_WACC_EGR'],,,,,,,,,,coef_walktimeshort,,,,,,,,,,,
util_PNR_AB_outbound_Walk_other_time,PNR_AB outbound - Walk other time,@df.outbound * odt_skims['DR_AB_WK_WAUX'],,,,,,,,,,coef_auxwalk,,,,,,,,,,,
util_PNR_AB_outbound_Fare_and_operating_cost,PNR_AB outbound - Fare and operating cost,@df.outbound * (odt_skims['DR_AB_WK_FARE'] + costPerMile * odt_skims['DR_AB_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,coef_cost,,,,,,,,,,,
# util_PNR_AB_outbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_AB outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['DR_AB_WK_DDIST'])/ (od_skims['DIST']),,,,,,,,,,coef_dratio,,,,,,,,,,,
util_PNR_AB_inbound_Unavailable,PNR_AB inbound - Unavailable,@df.inbound * (odt_skims['WK_AB_DR_TOTIVT']==0),,,,,,,,,,-999,,,,,,,,,,,
util_PNR_AB_inbound_In_vehicle_time,PNR_AB inbound - In-vehicle time,@df.inbound * odt_skims['WK_AB_DR_TOTIVT'],,,,,,,,,,coef_ivt,,,,,,,,,,,
# util_PNR_AB_inbound_Express_bus_time,PNR_AB - IVT on express bus,@df.inbound * odt_skims['WK_AB_DR_IVTXB'],,,,,,,,,,coef_ivtxb,,,,,,,,,,,
util_PNR_AB_inbound_iwait_time,PNR_AB inbound - Short iwait time,@df.inbound * (odt_skims['WK_AB_DR_IWAIT']),,,,,,,,,,coef_iwait,,,,,,,,,,,
util_PNR_AB_inbound_transfer_wait_time,PNR_AB inbound - transfer wait time,@df.inbound * odt_skims['WK_AB_DR_XWAIT'],,,,,,,,,,coef_xwait,,,,,,,,,,,
util_PNR_AB_inbound_number_of_transfers,PNR_AB inbound - number of transfers,@df.inbound * (odt_skims['WK_AB_DR_XFERS']).clip(0),,,,,,,,,,coef_xfers_drv,,,,,,,,,,,
util_PNR_AB_inbound_Drive_time,PNR_AB inbound - Drive time,@df.inbound * odt_skims['WK_AB_DR_DTIME'],,,,,,,,,,coef_drivetime,,,,,,,,,,,
util_PNR_AB_inbound_Walk_access_time,PNR_AB inbound - Walk access time,@df.inbound * odt_skims['WK_AB_DR_WACC_EGR'],,,,,,,,,,coef_walktimeshort,,,,,,,,,,,
util_PNR_AB_inbound_Walk_other_time,PNR_AB inbound - Walk other time,@df.inbound * odt_skims['WK_AB_DR_WAUX'],,,,,,,,,,coef_auxwalk,,,,,,,,,,,
util_PNR_AB_inbound_Fare_and_operating_cost,PNR_AB inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_AB_DR_FARE'] + costPerMile * odt_skims['WK_AB_DR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,coef_cost,,,,,,,,,,,
# util_PNR_AB_inbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_AB inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_AB_DR_DDIST'])/ (od_skims['DIST']),,,,,,,,,,coef_dratio,,,,,,,,,,,
#Drive_to_BM,#Drive to BM,,,,,,,,,,,,,,,,,,,,,,
util_PNR_BM_Unavailable,PNR_BM - Unavailable for zero auto households,auto_ownership == 0,,,,,,,,,,,-999,,,,,,,,,,
util_PNR_BM_Unavailable_for_persons_less_than_16,PNR_BM - Unavailable for persons less than 16,age < 16,,,,,,,,,,,-999,,,,,,,,,,
# util_PNR_BM_Destination_zone_densityIndex,PNR_BM  - Destination zone densityIndex,@df.density_index,,,,,,,,,,,coef_density_dtrn,,,,,,,,,,
util_PNR_BM_outbound_Unavailable,PNR_BM outbound - Unavailable,@df.outbound * (odt_skims['DR_BM_WK_TOTIVT']==0),,,,,,,,,,,-999,,,,,,,,,,
util_PNR_BM_outbound_In_vehicle_time,PNR_BM outbound - In-vehicle time,@df.outbound * odt_skims['DR_BM_WK_TOTIVT'],,,,,,,,,,,coef_ivt,,,,,,,,,,
# util_PNR_BM_outbound_Express_bus_time,PNR_AB - IVT on express bus,@df.outbound * odt_skims['DR_BM_WK_IVTXB'],,,,,,,,,,,coef_ivtxb,,,,,,,,,,
# util_PNR_BM_outbound_Metrorail_time,PNR_AB - IVT on express bus,@df.outbound * odt_skims['DR_BM_WK_IVTMR'],,,,,,,,,,,coef_ivtmr,,,,,,,,,,
util_PNR_BM_outbound_iwait_time,PNR_BM outbound - Short iwait time,@df.outbound * (odt_skims['DR_BM_WK_IWAIT']),,,,,,,,,,,coef_iwait,,,,,,,,,,
util_PNR_BM_outbound_transfer_wait_time,PNR_BM outbound - transfer wait time,@df.outbound * odt_skims['DR_BM_WK_XWAIT'],,,,,,,,,,,coef_xwait,,,,,,,,,,
util_PNR_BM_outbound_number_of_transfers,PNR_BM outbound - number of transfers,@df.outbound * (odt_skims['DR_BM_WK_XFERS']).clip(0),,,,,,,,,,,coef_xfers_drv,,,,,,,,,,
util_PNR_BM_outbound_Drive_time,PNR_BM outbound - Drive time,@df.outbound * odt_skims['DR_BM_WK_DTIME'],,,,,,,,,,,coef_drivetime,,,,,,,,,,
util_PNR_BM_outbound_Walk_egress_time,PNR_BM outbound - Walk egress time,@df.outbound * odt_skims['WK_BM_DR_WACC_EGR'],,,,,,,,,,,coef_walktimeshort,,,,,,,,,,
util_PNR_BM_outbound_Walk_other_time,PNR_BM outbound - Walk other time,@df.outbound * odt_skims['DR_BM_WK_WAUX'],,,,,,,,,,,coef_auxwalk,,,,,,,,,,
util_PNR_BM_outbound_Fare_and_operating_cost,PNR_BM outbound - Fare and operating cost,@df.outbound * (odt_skims['DR_BM_WK_FARE'] + costPerMile * odt_skims['DR_BM_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,coef_cost,,,,,,,,,,
# util_PNR_BM_outbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_BM outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['DR_BM_WK_DDIST']) / od_skims['DIST'],,,,,,,,,,,coef_dratio,,,,,,,,,,
util_PNR_BM_inbound_Unavailable,PNR_BM inbound - Unavailable,@df.inbound * (odt_skims['WK_BM_DR_TOTIVT']==0),,,,,,,,,,,-999,,,,,,,,,,
util_PNR_BM_inbound_In_vehicle_time,PNR_BM inbound - In-vehicle time,@df.inbound * odt_skims['WK_BM_DR_TOTIVT'],,,,,,,,,,,coef_ivt,,,,,,,,,,
# util_PNR_BM_inbound_Express_bus_time,PNR_AB - IVT on express bus,@df.inbound * odt_skims['WK_BM_DR_IVTXB'],,,,,,,,,,,coef_ivtxb,,,,,,,,,,
# util_PNR_BM_inbound_Metrorail_time,PNR_AB - IVT on express bus,@df.inbound * odt_skims['WK_BM_DR_IVTMR'],,,,,,,,,,,coef_ivtmr,,,,,,,,,,
util_PNR_BM_inbound_iwait_time,PNR_BM inbound - Short iwait time,@df.inbound * (odt_skims['WK_BM_DR_IWAIT']),,,,,,,,,,,coef_iwait,,,,,,,,,,
util_PNR_BM_inbound_transfer_wait_time,PNR_BM inbound - transfer wait time,@df.inbound * odt_skims['WK_BM_DR_XWAIT'],,,,,,,,,,,coef_xwait,,,,,,,,,,
util_PNR_BM_inbound_number_of_transfers,PNR_BM inbound - number of transfers,@df.inbound *(odt_skims['WK_BM_DR_XFERS']).clip(0),,,,,,,,,,,coef_xfers_drv,,,,,,,,,,
util_PNR_BM_inbound_Drive_time,PNR_BM inbound - Drive time,@df.inbound * odt_skims['WK_BM_DR_DTIME'],,,,,,,,,,,coef_drivetime,,,,,,,,,,
util_PNR_BM_inbound_Walk_access_time,PNR_BM inbound - Walk access time,@df.inbound * odt_skims['WK_BM_DR_WACC_EGR'],,,,,,,,,,,coef_walktimeshort,,,,,,,,,,
util_PNR_BM_inbound_Walk_other_time,PNR_BM inbound - Walk other time,@df.inbound * odt_skims['WK_BM_DR_WAUX'],,,,,,,,,,,coef_auxwalk,,,,,,,,,,
util_PNR_BM_inbound_Fare_and_operating_cost,PNR_BM inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_BM_DR_FARE'] + costPerMile * odt_skims['WK_BM_DR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,coef_cost,,,,,,,,,,
# util_PNR_BM_inbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_BM inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_BM_DR_DDIST'])/ od_skims['DIST'],,,,,,,,,,,coef_dratio,,,,,,,,,,
#PNR_to_MR,#PNR to MR,,,,,,,,,,,,,,,,,,,,,,
#util_PNR_MR_Unavailable,PNR_MR - Unavailable for zero auto households,auto_ownership == 0,,,,,,,,,,,,-999,,,,,,,,,
util_PNR_MR_Unavailable_for_persons_less_than_16,PNR_MR - Unavailable for persons less than 16,age < 16,,,,,,,,,,,,-999,,,,,,,,,
# util_PNR_MR_Destination_zone_densityIndex,PNR_MR - Destination zone densityIndex,@df.density_index,,,,,,,,,,,,coef_density_dtrn,,,,,,,,,
util_PNR_MR_outbound_Unavailable,PNR_MR outbound - Unavailable,@df.outbound * (odt_skims['DR_MR_WK_TOTIVT']==0),,,,,,,,,,,,-999,,,,,,,,,
util_PNR_MR_outbound_In_vehicle_time,PNR_MR outbound - In-vehicle time,@df.outbound *  odt_skims['DR_MR_WK_TOTIVT'],,,,,,,,,,,,coef_ivt,,,,,,,,,
util_PNR_MR_outbound_iwait_time,PNR_MR outbound - Short iwait time,@df.outbound * (odt_skims['DR_MR_WK_IWAIT']),,,,,,,,,,,,coef_iwait,,,,,,,,,
util_PNR_MR_outbound_transfer_wait_time,PNR_MR outbound - transfer wait time,@df.outbound * odt_skims['DR_MR_WK_XWAIT'] ,,,,,,,,,,,,coef_xwait,,,,,,,,,
util_PNR_MR_outbound_number_of_transfers,PNR_MR outbound - number of transfers,@df.outbound *(odt_skims['DR_MR_WK_XFERS']).clip(0),,,,,,,,,,,,coef_xfers_drv,,,,,,,,,
util_PNR_MR_outbound_Drive_time,PNR_MR outbound - Drive time,@df.outbound * odt_skims['DR_MR_WK_DTIME'],,,,,,,,,,,,coef_drivetime,,,,,,,,,
util_PNR_MR_outbound_Walk_egress_ime,PNR_MR outbound - Walk egress ime,@df.outbound * odt_skims['DR_MR_WK_WACC_EGR'],,,,,,,,,,,,coef_walktimeshort,,,,,,,,,
util_PNR_MR_outbound_Walk_other_time,PNR_MR outbound - Walk other time,@df.outbound * odt_skims['DR_MR_WK_WAUX'] ,,,,,,,,,,,,coef_auxwalk,,,,,,,,,
util_PNR_MR_outbound_Fare_and_operating_cost,PNR_MR outbound - Fare and operating cost,@df.outbound * (odt_skims['DR_MR_WK_FARE'] + costPerMile * odt_skims['DR_MR_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,coef_cost,,,,,,,,,
# util_PNR_MR_outbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_MR outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['DR_MR_WK_DDIST']) / od_skims['DIST'],,,,,,,,,,,,coef_dratio,,,,,,,,,
util_PNR_MR_inbound_Unavailable,PNR_MR inbound - Unavailable,@df.inbound *  (odt_skims['WK_MR_DR_TOTIVT']==0),,,,,,,,,,,,-999,,,,,,,,,
util_PNR_MR_inbound_In_vehicle_time,PNR_MR inbound - In-vehicle time,@df.inbound *  odt_skims['WK_MR_DR_TOTIVT'],,,,,,,,,,,,coef_ivt,,,,,,,,,
util_PNR_MR_inbound_iwait_time,PNR_MR inbound - Short iwait time,@df.inbound * (odt_skims['WK_MR_DR_IWAIT']),,,,,,,,,,,,coef_iwait,,,,,,,,,
util_PNR_MR_inbound_transfer_wait_time,PNR_MR inbound - transfer wait time,@df.inbound * odt_skims['WK_MR_DR_XWAIT'],,,,,,,,,,,,coef_xwait,,,,,,,,,
util_PNR_MR_inbound_number_of_transfers,PNR_MR inbound - number of transfers,@df.inbound * (odt_skims['WK_MR_DR_XFERS']).clip(0),,,,,,,,,,,,coef_xfers_drv,,,,,,,,,
util_PNR_MR_inbound_Drive_time,PNR_MR inbound - Drive time,@df.inbound * odt_skims['WK_MR_DR_DTIME'],,,,,,,,,,,,coef_drivetime,,,,,,,,,
util_PNR_MR_inbound_Walk_access_time,PNR_MR inbound - Walk access time,@df.inbound * odt_skims['WK_MR_DR_WACC_EGR'],,,,,,,,,,,,coef_walktimeshort,,,,,,,,,
util_PNR_MR_inbound_Walk_other_time,PNR_MR inbound - Walk other time,@df.inbound * odt_skims['WK_MR_DR_WAUX'],,,,,,,,,,,,coef_auxwalk,,,,,,,,,
util_PNR_MR_inbound_Fare_and_operating_cost,PNR_MR inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_MR_DR_FARE'] + costPerMile * odt_skims['WK_MR_DR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,coef_cost,,,,,,,,,
# util_PNR_MR_inbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_MR inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_MR_DR_DDIST']) / od_skims['DIST'],,,,,,,,,,,,coef_dratio,,,,,,,,,
#PNR_to_CR,#PNR to CR,,,,,,,,,,,,,,,,,,,,,,
util_PNR_CR_Unavailable,PNR_CR - Unavailable for zero auto households,auto_ownership == 0,,,,,,,,,,,,,-999,,,,,,,,
util_PNR_CR_Unavailable_for_persons_less_than_16,PNR_CR - Unavailable for persons less than 16,age < 16,,,,,,,,,,,,,-999,,,,,,,,
# util_PNR_CR_Destination_zone_densityIndex,PNR_CR - Destination zone densityIndex,@df.density_index,,,,,,,,,,,,,coef_density_dtrn,,,,,,,,
util_PNR_CR_outbound_Unavailable,PNR_CR outbound - Unavailable,@df.outbound * (odt_skims['DR_CR_WK_TOTIVT']==0),,,,,,,,,,,,,-999,,,,,,,,
util_PNR_CR_outbound_In_vehicle_time,PNR_CR outbound - In-vehicle time,@df.outbound * odt_skims['DR_CR_WK_TOTIVT'],,,,,,,,,,,,,coef_ivt,,,,,,,,
# util_PNR_CR_outbound_Express_bus_time,WALK_CR - XB IVT,@df.outbound * odt_skims['DR_CR_WK_IVTXB'],,,,,,,,,,,,,coef_ivtxb,,,,,,,,
# util_PNR_CR_outbound_Metrorail_time,WALK_CR - MR IVT,@df.outbound * odt_skims['DR_CR_WK_IVTMR'],,,,,,,,,,,,,coef_ivtmr,,,,,,,,
# util_PNR_CR_outbound_commrail_time,WALK_CR - CR IVT,@df.outbound * odt_skims['DR_CR_WK_IVTCR'],,,,,,,,,,,,,coef_ivtcr,,,,,,,,
util_PNR_CR_outbound_iwait_time,PNR_CR outbound - Short iwait time,@df.outbound * (odt_skims['DR_CR_WK_IWAIT']),,,,,,,,,,,,,coef_iwait,,,,,,,,
util_PNR_CR_outbound_transfer_wait_time,PNR_CR outbound - transfer wait time,@df.outbound * odt_skims['DR_CR_WK_XWAIT'],,,,,,,,,,,,,coef_xwait,,,,,,,,
util_PNR_CR_outbound_number_of_transfers,PNR_CR outbound - number of transfers,@df.outbound * (odt_skims['DR_CR_WK_XFERS']).clip(0),,,,,,,,,,,,,coef_xfers_drv,,,,,,,,
util_PNR_CR_outbound_Drive_time,PNR_CR outbound - Drive time,@df.outbound * odt_skims['DR_CR_WK_DTIME'],,,,,,,,,,,,,coef_drivetime,,,,,,,,
util_PNR_CR_outbound_Walk_egress_ime,PNR_CR outbound - Walk egress ime,@df.outbound * odt_skims['DR_CR_WK_WACC_EGR'],,,,,,,,,,,,,coef_walktimeshort,,,,,,,,
util_PNR_CR_outbound_Walk_other_time,PNR_CR outbound - Walk other time,@df.outbound * odt_skims['DR_CR_WK_WAUX'],,,,,,,,,,,,,coef_auxwalk,,,,,,,,
util_PNR_CR_outbound_Fare_and_operating_cost,PNR_CR outbound - Fare and operating cost,@df.outbound * (odt_skims['DR_CR_WK_FARE'] + costPerMile * odt_skims['DR_CR_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,coef_cost,,,,,,,,
# util_PNR_CR_outbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_CR outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['DR_CR_WK_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,coef_dratio,,,,,,,,
util_PNR_CR_inbound_Unavailable,PNR_CR inbound - Unavailable,@df.inbound *  (odt_skims['WK_CR_DR_TOTIVT']==0),,,,,,,,,,,,,-999,,,,,,,,
util_PNR_CR_inbound_In_vehicle_time,PNR_CR inbound - In-vehicle time,@df.inbound * odt_skims['WK_CR_DR_TOTIVT'],,,,,,,,,,,,,coef_ivt,,,,,,,,
# util_PNR_CR_inbound_Express_bus_time,WALK_CR - XB IVT,@df.inbound * odt_skims['WK_CR_DR_IVTXB'],,,,,,,,,,,,,coef_ivtxb,,,,,,,,
# util_PNR_CR_inbound_Metrorail_time,WALK_CR - MR IVT,@df.inbound * odt_skims['WK_CR_DR_IVTMR'],,,,,,,,,,,,,coef_ivtmr,,,,,,,,
# util_PNR_CR_inbound_commrail_time,WALK_CR - CR IVT,@df.inbound * odt_skims['WK_CR_DR_IVTCR'],,,,,,,,,,,,,coef_ivtcr,,,,,,,,
util_PNR_CR_inbound_iwait_time,PNR_CR inbound - Short iwait time,@df.inbound * (odt_skims['WK_CR_DR_IWAIT']),,,,,,,,,,,,,coef_iwait,,,,,,,,
util_PNR_CR_inbound_transfer_wait_time,PNR_CR inbound - transfer wait time,@df.inbound * odt_skims['WK_CR_DR_XWAIT'],,,,,,,,,,,,,coef_xwait,,,,,,,,
util_PNR_CR_inbound_number_of_transfers,PNR_CR inbound - number of transfers,@df.inbound * (odt_skims['WK_CR_DR_XFERS']).clip(0),,,,,,,,,,,,,coef_xfers_drv,,,,,,,,
util_PNR_CR_inbound_Drive_time,PNR_CR inbound - Drive time,@df.inbound * odt_skims['WK_CR_DR_DTIME'],,,,,,,,,,,,,coef_drivetime,,,,,,,,
util_PNR_CR_inbound_Walk_access_time,PNR_CR inbound - Walk access time,@df.inbound * odt_skims['WK_CR_DR_WACC_EGR'],,,,,,,,,,,,,coef_walktimeshort,,,,,,,,
util_PNR_CR_inbound_Walk_other_time,PNR_CR inbound - Walk other time,@df.inbound * odt_skims['WK_CR_DR_WAUX'],,,,,,,,,,,,,coef_auxwalk,,,,,,,,
util_PNR_CR_inbound_Fare_and_operating_cost,PNR_CR inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_CR_DR_FARE'] + costPerMile * odt_skims['WK_CR_DR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,coef_cost,,,,,,,,
# util_PNR_CR_inbound_Ratio_of_drive_access_distance_to_OD_distance,PNR_CR inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_CR_DR_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,coef_dratio,,,,,,,,
#KNR_to_AB,#KNR to AB,,,,,,,,,,,,,,,,,,,,,,
# util_KNR_AB_Unavail,,1,,,,,,,,,,,,,,-999,,,,,,,
util_KNR_AB_Unavailable,KNR_AB - Unavailable for persons less than 16,age < 16,,,,,,,,,,,,,,-999,,,,,,,
# util_KNR_AB_Destination_zone_densityIndex,KNR_AB - Destination zone densityIndex,@df.density_index * df.density_index,,,,,,,,,,,,,,coef_density_dtrn,,,,,,,
util_KNR_AB_outbound_Unavailable,KNR_AB outbound - Unavailable,@df.outbound * (odt_skims['KR_AB_WK_TOTIVT']==0),,,,,,,,,,,,,,-999,,,,,,,
util_KNR_AB_outbound_In_vehicle_time,KNR_AB outbound - In-vehicle time,@df.outbound * odt_skims['KR_AB_WK_TOTIVT'],,,,,,,,,,,,,,coef_ivt,,,,,,,
# util_KNR_AB_outbound_Express_bus_time,KNR_AB - IVT on express bus,@df.outbound * odt_skims['KR_AB_WK_IVTXB'],,,,,,,,,,,,,,coef_ivtxb,,,,,,,
util_KNR_AB_outbound_iwait_time,KNR_AB outbound - Short iwait time,@df.outbound * (odt_skims['KR_AB_WK_IWAIT']),,,,,,,,,,,,,,coef_iwait,,,,,,,
util_KNR_AB_outbound_transfer_wait_time,KNR_AB outbound - transfer wait time,@df.outbound * odt_skims['KR_AB_WK_XWAIT'],,,,,,,,,,,,,,coef_xwait,,,,,,,
util_KNR_AB_outbound_number_of_transfers,KNR_AB outbound - number of transfers,@df.outbound * (odt_skims['KR_AB_WK_XFERS']).clip(0),,,,,,,,,,,,,,coef_xfers_drv,,,,,,,
util_KNR_AB_outbound_Drive_time,KNR_AB outbound - Drive time,@df.outbound * odt_skims['KR_AB_WK_DTIME'],,,,,,,,,,,,,,coef_drivetime,,,,,,,
util_KNR_AB_outbound_Walk_egress_time,KNR_AB outbound - Walk egress time,@df.outbound * odt_skims['KR_AB_WK_WACC_EGR'],,,,,,,,,,,,,,coef_walktimeshort,,,,,,,
util_KNR_AB_outbound_Walk_other_time,KNR_AB outbound - Walk other time,@df.outbound * odt_skims['KR_AB_WK_WAUX'],,,,,,,,,,,,,,coef_auxwalk,,,,,,,
util_KNR_AB_outbound_Fare_and_operating_cost,KNR_AB outbound - Fare and operating cost,@df.outbound * (odt_skims['KR_AB_WK_FARE'] + costPerMile * odt_skims['KR_AB_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,coef_cost,,,,,,,
# util_KNR_AB_outbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_AB outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['KR_AB_WK_DDIST'])/ (od_skims['DIST']),,,,,,,,,,,,,,coef_dratio,,,,,,,
util_KNR_AB_inbound_Unavailable,KNR_AB inbound - Unavailable,@df.inbound *  (odt_skims['WK_AB_KR_TOTIVT']==0),,,,,,,,,,,,,,-999,,,,,,,
util_KNR_AB_inbound_In_vehicle_time,KNR_AB inbound - In-vehicle time,@df.inbound * odt_skims['WK_AB_KR_TOTIVT'],,,,,,,,,,,,,,coef_ivt,,,,,,,
# util_KNR_AB_inbound_Express_bus_time,KNR_AB - IVT on express bus,@df.inbound * odt_skims['WK_AB_KR_IVTXB'],,,,,,,,,,,,,,coef_ivtxb,,,,,,,
util_KNR_AB_inbound_iwait_time,KNR_AB inbound - Short iwait time,@df.inbound * (odt_skims['WK_AB_KR_IWAIT']),,,,,,,,,,,,,,coef_iwait,,,,,,,
util_KNR_AB_inbound_transfer_wait_time,KNR_AB inbound - transfer wait time,@df.inbound * odt_skims['WK_AB_KR_XWAIT'],,,,,,,,,,,,,,coef_xwait,,,,,,,
util_KNR_AB_inbound_number_of_transfers,KNR_AB inbound - number of transfers,@df.inbound * (odt_skims['WK_AB_KR_XFERS']).clip(0),,,,,,,,,,,,,,coef_xfers_drv,,,,,,,
util_KNR_AB_inbound_Drive_time,KNR_AB inbound - Drive time,@df.inbound * odt_skims['WK_AB_KR_DTIME'],,,,,,,,,,,,,,coef_drivetime,,,,,,,
util_KNR_AB_inbound_Walk_access_time,KNR_AB inbound - Walk access time,@df.inbound * odt_skims['WK_AB_KR_WACC_EGR'],,,,,,,,,,,,,,coef_walktimeshort,,,,,,,
util_KNR_AB_inbound_Walk_other_time,KNR_AB inbound - Walk other time,@df.inbound * odt_skims['WK_AB_KR_WAUX'],,,,,,,,,,,,,,coef_auxwalk,,,,,,,
util_KNR_AB_inbound_Fare_and_operating_cost,KNR_AB inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_AB_KR_FARE'] + costPerMile * odt_skims['WK_AB_KR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,coef_cost,,,,,,,
# util_KNR_AB_inbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_AB inbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['WK_AB_KR_DDIST'])/ (od_skims['DIST']),,,,,,,,,,,,,,coef_dratio,,,,,,,
#Drive_to_BM,#Drive to BM,,,,,,,,,,,,,,,,,,,,,,
# util_KNR_BM_Unav,KNR_BM - Unavailable,1,,,,,,,,,,,,,,,-999,,,,,,
util_KNR_BM_Unavailable,KNR_BM - Unavailable for persons less than 16,age < 16,,,,,,,,,,,,,,,-999,,,,,,
# util_KNR_BM_Destination_zone_densityIndex,KNR_BM  - Destination zone densityIndex,@df.density_index,,,,,,,,,,,,,,,coef_density_dtrn,,,,,,
util_KNR_BM_outbound_Unavailable,KNR_BM outbound - Unavailable,@df.outbound * (odt_skims['KR_BM_WK_TOTIVT']==0),,,,,,,,,,,,,,,-999,,,,,,
util_KNR_BM_outbound_In_vehicle_time,KNR_BM outbound - In-vehicle time,@df.outbound * odt_skims['KR_BM_WK_TOTIVT'],,,,,,,,,,,,,,,coef_ivt,,,,,,
# util_KNR_BM_outbound_Express_bus_time,KNR_AB - IVT on express bus,@df.outbound * odt_skims['KR_BM_WK_IVTXB'],,,,,,,,,,,,,,,coef_ivtxb,,,,,,
# util_KNR_BM_outbound_Metrorail_time,KNR_AB - IVT on express bus,@df.outbound * odt_skims['KR_BM_WK_IVTMR'],,,,,,,,,,,,,,,coef_ivtmr,,,,,,
util_KNR_BM_outbound_iwait_time,KNR_BM outbound - Short iwait time,@df.outbound * (odt_skims['KR_BM_WK_IWAIT']),,,,,,,,,,,,,,,coef_iwait,,,,,,
util_KNR_BM_outbound_transfer_wait_time,KNR_BM outbound - transfer wait time,@df.outbound * odt_skims['KR_BM_WK_XWAIT'],,,,,,,,,,,,,,,coef_xwait,,,,,,
util_KNR_BM_outbound_number_of_transfers,KNR_BM outbound - number of transfers,@df.outbound * (odt_skims['KR_BM_WK_XFERS']).clip(0),,,,,,,,,,,,,,,coef_xfers_drv,,,,,,
util_KNR_BM_outbound_Drive_time,KNR_BM outbound - Drive time,@df.outbound * odt_skims['KR_BM_WK_DTIME'],,,,,,,,,,,,,,,coef_drivetime,,,,,,
util_KNR_BM_outbound_Walk_egress_time,KNR_BM outbound - Walk egress time,@df.outbound * odt_skims['KR_BM_WK_WACC_EGR'],,,,,,,,,,,,,,,coef_walktimeshort,,,,,,
util_KNR_BM_outbound_Walk_other_time,KNR_BM outbound - Walk other time,@df.outbound * odt_skims['KR_BM_WK_WAUX'],,,,,,,,,,,,,,,coef_auxwalk,,,,,,
util_KNR_BM_outbound_Fare_and_operating_cost,KNR_BM outbound - Fare and operating cost,@df.outbound * (odt_skims['KR_BM_WK_FARE'] + costPerMile * odt_skims['KR_BM_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,,coef_cost,,,,,,
# util_KNR_BM_outbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_BM outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['KR_BM_WK_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,,,coef_dratio,,,,,,
util_KNR_BM_inbound_Unavailable,KNR_BM inbound - Unavailable,@df.inbound *  (odt_skims['WK_BM_KR_TOTIVT']==0),,,,,,,,,,,,,,,-999,,,,,,
util_KNR_BM_inbound_In_vehicle_time,KNR_BM inbound - In-vehicle time,@df.inbound * odt_skims['WK_BM_KR_TOTIVT'],,,,,,,,,,,,,,,coef_ivt,,,,,,
util_KNR_BM_inbound_iwait_time,KNR_BM inbound - Short iwait time,@df.inbound * (odt_skims['WK_BM_KR_IWAIT']),,,,,,,,,,,,,,,coef_iwait,,,,,,
# util_KNR_BM_inbound_Express_bus_time,KNR_AB - IVT on express bus,@df.inbound * odt_skims['WK_BM_KR_IVTXB'],,,,,,,,,,,,,,,coef_ivtxb,,,,,,
# util_KNR_BM_inbound_Metrorail_time,KNR_AB - IVT on express bus,@df.inbound * odt_skims['WK_BM_KR_IVTMR'],,,,,,,,,,,,,,,coef_ivtmr,,,,,,
util_KNR_BM_inbound_transfer_wait_time,KNR_BM inbound - transfer wait time,@df.inbound * odt_skims['WK_BM_KR_XWAIT'],,,,,,,,,,,,,,,coef_xwait,,,,,,
util_KNR_BM_inbound_number_of_transfers,KNR_BM inbound - number of transfers,@df.inbound * (odt_skims['WK_BM_KR_XFERS']).clip(0),,,,,,,,,,,,,,,coef_xfers_drv,,,,,,
util_KNR_BM_inbound_Drive_time,KNR_BM inbound - Drive time,@df.inbound * odt_skims['WK_BM_KR_DTIME'],,,,,,,,,,,,,,,coef_drivetime,,,,,,
util_KNR_BM_inbound_Walk_access_time,KNR_BM inbound - Walk access time,@df.inbound * odt_skims['WK_BM_KR_WACC_EGR'],,,,,,,,,,,,,,,coef_walktimeshort,,,,,,
util_KNR_BM_inbound_Walk_other_time,KNR_BM inbound - Walk other time,@df.inbound * odt_skims['WK_BM_KR_WAUX'],,,,,,,,,,,,,,,coef_auxwalk,,,,,,
util_KNR_BM_inbound_Fare_and_operating_cost,KNR_BM inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_BM_KR_FARE'] + costPerMile * odt_skims['WK_BM_KR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,,coef_cost,,,,,,
# util_KNR_BM_inbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_BM inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_BM_KR_DDIST'])/ od_skims['DIST'],,,,,,,,,,,,,,,coef_dratio,,,,,,
#KNR_to_MR,#KNR to MR,,,,,,,,,,,,,,,,,,,,,,
util_KNR_MR_Unavailable,KNR_MR - Unavailable for persons less than 16,age < 16,,,,,,,,,,,,,,,,-999,,,,,
# util_KNR_MR_Destination_zone_densityIndex,KNR_MR - Destination zone densityIndex,@df.density_index,,,,,,,,,,,,,,,,coef_density_dtrn,,,,,
util_KNR_MR_outbound_Unavailable,KNR_MR outbound - Unavailable,@df.outbound * (odt_skims['KR_MR_WK_TOTIVT']==0),,,,,,,,,,,,,,,,-999,,,,,
util_KNR_MR_outbound_In_vehicle_time,KNR_MR outbound - In-vehicle time,@df.outbound *  odt_skims['KR_MR_WK_TOTIVT'],,,,,,,,,,,,,,,,coef_ivt,,,,,
util_KNR_MR_outbound_iwait_time,KNR_MR outbound - Short iwait time,@df.outbound * (odt_skims['KR_MR_WK_IWAIT']),,,,,,,,,,,,,,,,coef_iwait,,,,,
util_KNR_MR_outbound_transfer_wait_time,KNR_MR outbound - transfer wait time,@df.outbound * odt_skims['KR_MR_WK_XWAIT'],,,,,,,,,,,,,,,,coef_xwait,,,,,
util_KNR_MR_outbound_number_of_transfers,KNR_MR outbound - number of transfers,@df.outbound * (odt_skims['KR_MR_WK_XFERS']).clip(0),,,,,,,,,,,,,,,,coef_xfers_drv,,,,,
util_KNR_MR_outbound_Drive_time,KNR_MR outbound - Drive time,@df.outbound * odt_skims['KR_MR_WK_DTIME'],,,,,,,,,,,,,,,,coef_drivetime,,,,,
util_KNR_MR_outbound_Walk_egress_ime,KNR_MR outbound - Walk egress ime,@df.outbound * odt_skims['KR_MR_WK_WACC_EGR'],,,,,,,,,,,,,,,,coef_walktimeshort,,,,,
util_KNR_MR_outbound_Walk_other_time,KNR_MR outbound - Walk other time,@df.outbound * odt_skims['KR_MR_WK_WAUX'],,,,,,,,,,,,,,,,coef_auxwalk,,,,,
util_KNR_MR_outbound_Fare_and_operating_cost,KNR_MR outbound - Fare and operating cost,@df.outbound * (odt_skims['KR_MR_WK_FARE'] + costPerMile * odt_skims['KR_MR_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,,,coef_cost,,,,,
# util_KNR_MR_outbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_MR outbound - Ratio of drive access distance to OD distance,@df.outbound * (odt_skims['KR_MR_WK_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,,,,coef_dratio,,,,,
util_KNR_MR_inbound_Unavailable,KNR_MR inbound - Unavailable,@df.inbound *  (odt_skims['WK_MR_KR_TOTIVT']==0),,,,,,,,,,,,,,,,-999,,,,,
util_KNR_MR_inbound_In_vehicle_time,KNR_MR inbound - In-vehicle time,@df.inbound * odt_skims['WK_MR_KR_TOTIVT'],,,,,,,,,,,,,,,,coef_ivt,,,,,
util_KNR_MR_inbound_iwait_time,KNR_MR inbound - Short iwait time,@df.inbound * (odt_skims['WK_MR_KR_IWAIT']),,,,,,,,,,,,,,,,coef_iwait,,,,,
util_KNR_MR_inbound_transfer_wait_time,KNR_MR inbound - transfer wait time,@df.inbound * odt_skims['WK_MR_KR_XWAIT'],,,,,,,,,,,,,,,,coef_xwait,,,,,
util_KNR_MR_inbound_number_of_transfers,KNR_MR inbound - number of transfers,@df.inbound * (odt_skims['WK_MR_KR_XFERS']).clip(0),,,,,,,,,,,,,,,,coef_xfers_drv,,,,,
util_KNR_MR_inbound_Drive_time,KNR_MR inbound - Drive time,@df.inbound * odt_skims['WK_MR_KR_DTIME'],,,,,,,,,,,,,,,,coef_drivetime,,,,,
util_KNR_MR_inbound_Walk_access_time,KNR_MR inbound - Walk access time,@df.inbound * odt_skims['WK_MR_KR_WACC_EGR'],,,,,,,,,,,,,,,,coef_walktimeshort,,,,,
util_KNR_MR_inbound_Walk_other_time,KNR_MR inbound - Walk other time,@df.inbound * odt_skims['WK_MR_KR_WAUX'],,,,,,,,,,,,,,,,coef_auxwalk,,,,,
util_KNR_MR_inbound_Fare_and_operating_cost,KNR_MR inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_MR_KR_FARE'] + costPerMile * odt_skims['WK_MR_KR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,,,coef_cost,,,,,
# util_KNR_MR_inbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_MR inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_MR_KR_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,,,,coef_dratio,,,,,
##KNR_to_CR,#KNR to CR,,,,,,,,,,,,,,,,,,,,,,
# util_KNR_CR_Unav,KNR_CR - Unavailable,1,,,,,,,,,,,,,,,,,-999,,,,
util_KNR_CR_Unavailable,KNR_CR - Unavailable for persons less than 16,age < 16,,,,,,,,,,,,,,,,,-999,,,,
# util_KNR_CR_Destination_zone_densityIndex,KNR_CR - Destination zone densityIndex,@df.density_index,,,,,,,,,,,,,,,,,coef_density_dtrn,,,,
util_KNR_CR_outbound_Unavailable,KNR_CR outbound - Unavailable,@df.outbound * (odt_skims['KR_CR_WK_TOTIVT']==0),,,,,,,,,,,,,,,,,-999,,,,
util_KNR_CR_outbound_In_vehicle_time,KNR_CR outbound - In-vehicle time,@df.outbound * odt_skims['KR_CR_WK_TOTIVT'],,,,,,,,,,,,,,,,,coef_ivt,,,,
# util_KNR_CR_outbound_Express_bus_time,KNR_CR - XB IVT,@df.outbound * odt_skims['KR_CR_WK_IVTXB'],,,,,,,,,,,,,,,,,coef_ivtxb,,,,
# util_KNR_CR_outbound_Metrorail_time,KNR_CR - MR IVT,@df.outbound * odt_skims['KR_CR_WK_IVTMR'],,,,,,,,,,,,,,,,,coef_ivtmr,,,,
# util_KNR_CR_outbound_commrail_time,KNR_CR - CR IVT,@df.outbound * odt_skims['KR_CR_WK_IVTCR'],,,,,,,,,,,,,,,,,coef_ivtcr,,,,
util_KNR_CR_outbound_iwait_time,KNR_CR outbound - Short iwait time,@df.outbound * (odt_skims['KR_CR_WK_IWAIT']),,,,,,,,,,,,,,,,,coef_iwait,,,,
util_KNR_CR_outbound_transfer_wait_time,KNR_CR outbound - transfer wait time,@df.outbound * odt_skims['KR_CR_WK_XWAIT'],,,,,,,,,,,,,,,,,coef_xwait,,,,
util_KNR_CR_outbound_number_of_transfers,KNR_CR outbound - number of transfers,@df.outbound * (odt_skims['KR_CR_WK_XFERS']).clip(0),,,,,,,,,,,,,,,,,coef_xfers_drv,,,,
util_KNR_CR_outbound_Drive_time,KNR_CR outbound - Drive time,@df.outbound * odt_skims['KR_CR_WK_DTIME'],,,,,,,,,,,,,,,,,coef_drivetime,,,,
util_KNR_CR_outbound_Walk_egress_ime,KNR_CR outbound - Walk egress ime,@df.outbound * odt_skims['KR_CR_WK_WACC_EGR'],,,,,,,,,,,,,,,,,coef_walktimeshort,,,,
util_KNR_CR_outbound_Walk_other_time,KNR_CR outbound - Walk other time,@df.outbound * odt_skims['KR_CR_WK_WAUX'],,,,,,,,,,,,,,,,,coef_auxwalk,,,,
util_KNR_CR_outbound_Fare_and_operating_cost,KNR_CR outbound - Fare and operating cost,@df.outbound * (odt_skims['KR_CR_WK_FARE'] + costPerMile * odt_skims['KR_CR_WK_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,,,,coef_cost,,,,
# util_KNR_CR_outbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_CR outbound - Ratio of drive access distance to OD distance,@df.outbound *(odt_skims['DR_CR_WK_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,,,,,coef_dratio,,,,
util_KNR_CR_inbound_Unavailable,KNR_CR inbound - Unavailable,@df.inbound *  (odt_skims['WK_CR_KR_TOTIVT']==0),,,,,,,,,,,,,,,,,-999,,,,
util_KNR_CR_inbound_In_vehicle_time,KNR_CR inbound - In-vehicle time,@df.inbound * odt_skims['WK_CR_KR_TOTIVT'],,,,,,,,,,,,,,,,,coef_ivt,,,,
# util_KNR_CR_inbound_Express_bus_time,KNR_CR - XB IVT,@df.inbound * odt_skims['WK_CR_KR_IVTXB'],,,,,,,,,,,,,,,,,coef_ivtxb,,,,
# util_KNR_CR_inbound_Metrorail_time,KNR_CR - MR IVT,@df.inbound * odt_skims['WK_CR_KR_IVTMR'],,,,,,,,,,,,,,,,,coef_ivtmr,,,,
# util_KNR_CR_inbound_commrail_time,KNR_CR - CR IVT,@df.inbound * odt_skims['WK_CR_KR_IVTCR'],,,,,,,,,,,,,,,,,coef_ivtcr,,,,
util_KNR_CR_inbound_iwait_time,KNR_CR inbound - Short iwait time,@df.inbound * (odt_skims['WK_CR_KR_IWAIT']),,,,,,,,,,,,,,,,,coef_iwait,,,,
util_KNR_CR_inbound_transfer_wait_time,KNR_CR inbound - transfer wait time,@df.inbound * odt_skims['WK_CR_KR_XWAIT'],,,,,,,,,,,,,,,,,coef_xwait,,,,
util_KNR_CR_inbound_number_of_transfers,KNR_CR inbound - number of transfers,@df.inbound * (odt_skims['WK_CR_KR_XFERS']).clip(0),,,,,,,,,,,,,,,,,coef_xfers_drv,,,,
util_KNR_CR_inbound_Drive_time,KNR_CR inbound - Drive time,@df.inbound * odt_skims['WK_CR_KR_DTIME'],,,,,,,,,,,,,,,,,coef_drivetime,,,,
util_KNR_CR_inbound_Walk_access_time,KNR_CR inbound - Walk access time,@df.inbound * odt_skims['WK_CR_KR_WACC_EGR'],,,,,,,,,,,,,,,,,coef_walktimeshort,,,,
util_KNR_CR_inbound_Walk_other_time,KNR_CR inbound - Walk other time,@df.inbound * odt_skims['WK_CR_KR_WAUX'],,,,,,,,,,,,,,,,,coef_auxwalk,,,,
util_KNR_CR_inbound_Fare_and_operating_cost,KNR_CR inbound - Fare and operating cost,@df.inbound * (odt_skims['WK_CR_KR_FARE'] + costPerMile * odt_skims['WK_CR_KR_DDIST'] * df.ivot * (1 - df.trn_fare_subs_pct)),,,,,,,,,,,,,,,,,coef_cost,,,,
# util_KNR_CR_inbound_Ratio_of_drive_access_distance_to_OD_distance,KNR_CR inbound - Ratio of drive access distance to OD distance,@df.inbound * (odt_skims['WK_CR_KR_DDIST']) / od_skims['DIST'],,,,,,,,,,,,,,,,,coef_dratio,,,,
##Taxi,#Taxi,,,,,,,,,,,,,,,,,,,,,,
util_TAXI_In_vehicle_time,Taxi - In-vehicle time,@odt_skims['HOV2_TIME'],,,,,,,,,,,,,,,,,,,coef_ivt,,
util_TAXI_Wait_time,Taxi - Wait time,@df.origTaxiWaitTime,,,,,,,,,,,,,,,,,,,coef_iwait,,
util_TAXI_Tolls,Taxi - Tolls,@odt_skims['HOV2_TOLL'] * df.ivot,,,,,,,,,,,,,,,,,,,coef_cost,,
util_TAXI_Fare,Taxi - Fare,@(Taxi_baseFare + odt_skims['HOV2_DIST'] * Taxi_costPerMile + odt_skims['HOV2_TIME'] * Taxi_costPerMinute)*100 * df.ivot,,,,,,,,,,,,,,,,,,,coef_cost,,
##TNC_Single,#TNC Single,,,,,,,,,,,,,,,,,,,,,,
util_TNC_SINGLE_In_vehicle_time,TNC Single - In-vehicle time,@odt_skims['HOV2_TIME'] ,,,,,,,,,,,,,,,,,,,,coef_ivt,
util_TNC_SINGLE_Wait_time,TNC Single - Wait time,@df.origSingleTNCWaitTime,,,,,,,,,,,,,,,,,,,,coef_iwait,
util_TNC_SINGLE_Tolls,TNC Single - Tolls,@odt_skims['HOV2_TOLL'] * df.ivot,,,,,,,,,,,,,,,,,,,,coef_cost,
util_TNC_SINGLE_Cost,TNC Single - Cost,"@np.maximum(TNC_single_baseFare + odt_skims['HOV2_DIST'] * TNC_single_costPerMile + odt_skims['HOV2_TIME'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100 * df.ivot",,,,,,,,,,,,,,,,,,,,coef_cost,
##TNC_Shared,#TNC Shared,,,,,,,,,,,,,,,,,,,,,,
util_TNC_SHARED_In_vehicle_time,TNC Shared - In-vehicle time,@odt_skims['HOV2_TIME'] * TNC_shared_IVTFactor,,,,,,,,,,,,,,,,,,,,,coef_ivt
util_TNC_SHARED_Wait_time,TNC Shared - Wait time,@df.origSharedTNCWaitTime,,,,,,,,,,,,,,,,,,,,,coef_iwait
util_TNC_SHARED_Tolls,TNC Shared - Tolls,@odt_skims['HOV2_TOLL'] * df.ivot,,,,,,,,,,,,,,,,,,,,,coef_cost
util_TNC_SHARED_Cost,TNC Shared - Cost,"@np.maximum(TNC_shared_baseFare + odt_skims['HOV2_DIST'] * TNC_shared_costPerMile + odt_skims['HOV2_TIME'] * TNC_shared_costPerMinute, TNC_shared_costMinimum) * 100 * df.ivot",,,,,,,,,,,,,,,,,,,,,coef_cost
#School_Bus,#School Bus,,,,,,,,,,,,,,,,,,,,,,
util_SCHOOLBUS_Unavailable,School Bus Unavailable if primary purpose NOT school,~is_school,,,,,,,,,,,,,,,,,,-999,,,
util_SCHOOLBUS_Unavailable_Tour_Mode_SOV,School Bus Unavailable - Tour Mode = SOV,tour_mode_is_SOV,,,,,,,,,,,,,,,,,,-999,,,
util_SCHOOLBUS_Unavailable_Tour_Mode_Transit,School Bus Unavailable - Tour Mode = Transit,tour_mode_is_drive_transit,,,,,,,,,,,,,,,,,,-999,,,
util_SCHOOLBUS_In_vehicle_time_(20_miles_per_hour),School Bus - In-vehicle time (20 miles per hour),@odt_skims['HOV3_DIST'] * 3,,,,,,,,,,,,,,,,,,coef_ivt,,,
util_SCHOOLBUS_Walk_Time,School Bus - Walk Time,10.0,,,,,,,,,,,,,,,,,,coef_walktimeshort,,,
util_SCHOOLBUS_Wait_Time,School Bus - Wait Time,10.0,,,,,,,,,,,,,,,,,,coef_iwait,,,
util_DA_tour_mode_availability,Drive alone tour mode availability,@df.tour_mode_is_SOV,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999
util_SR2_tour_mode_availability,SR2 tour mode availability,@df.tour_mode_is_sr2,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999
util_SR3_tour_mode_availability,SR3 tour mode availability,@df.tour_mode_is_sr3p,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999
util_Walk_tour_mode_availability,Walk tour mode availability,@df.tour_mode_is_walk,,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999
util_Bike_tour_mode_availability,Bike tour mode availability,@df.tour_mode_is_bike,-999,-999,-999,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999
util_Walk_to_Transit_tour_mode_availability,Walk to Transit tour mode availability,@df.tour_mode_is_walk_transit,-999,,,,,,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,,,
util_PNR_Transit_tour_mode_availability,tour_mode_is_pnr_transit,@(df.i_tour_mode.isin(I_PNR_TRANSIT_MODES))& (~df.is_atwork_subtour),-999,-999,-999,-999,-999,-999,-999,-999,-999,,,,,-999,-999,-999,-999,-999,-999,-999,-999
util_KNR_Transit_tour_mode_availability,tour_mode_is_knr_transit,@(df.i_tour_mode.isin(I_KNR_TRANSIT_MODES))& (~df.is_atwork_subtour),-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,,,,,-999,-999,-999,-999
util_School_bus_tour_mode_availability,School bus tour mode availability,@df.tour_mode_is_school_bus,,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,,-999,-999,-999
util_Ride_Hail_tour_mode_availability,Ride Hail tour mode availability,@df.tour_mode_is_ride_hail,-999,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,,,
util_PNR_Transit_tour_mode_availability_atw,tour_mode_is_pnr_transit,@(df.i_tour_mode.isin(I_PNR_TRANSIT_MODES)) & (df.is_atwork_subtour),-999,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,,,
util_KNR_Transit_tour_mode_availability_atw,tour_mode_is_knr_transit,@(df.i_tour_mode.isin(I_KNR_TRANSIT_MODES)) & (df.is_atwork_subtour),-999,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,-999,,,
#util_KNR_Transit_tour_mode_availability_disc,No KNR for discretionary trips,@df.is_discretionary,,,,,,,,,-999,-999,-999,-999,-999,-999,-999,-999,-999,,,,
## individual mode combo ascs,,,,,,,,,,,,,,,,,,,,,,,
asc_sr2_da,coef_ASC S2-DRIVEALONE,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR2_MODES)),coef_ASC_s2_da,,,,,,,,,,,,,,,,,,,,
asc_sr3_da,S3p-SHARED3,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR3P_MODES)),coef_ASC_s3_da,,,,,,,,,,,,,,,,,,,,
asc_sr3_sr2,S3p-SHARED2,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR3P_MODES)),,coef_ASC_s3_s2,,,,,,,,,,,,,,,,,,,
asc_walk_da,WLK-DA,@(df.is_indiv) & (df.i_tour_mode == I_WALK_MODE),coef_ASC_walk_da,,,,,,,,,,,,,,,,,,,,
asc_walk_s2,WLK-SHARED2,@(df.is_indiv) & (df.i_tour_mode == I_WALK_MODE),,coef_ASC_walk_s2,,,,,,,,,,,,,,,,,,,
asc_walk_s3,WLK-SHARED3,@(df.is_indiv) & (df.i_tour_mode == I_WALK_MODE),,,coef_ASC_walk_s3,,,,,,,,,,,,,,,,,,
asc_bike_walk,BIKE-WALK,@(df.is_indiv) & (df.i_tour_mode == I_BIKE_MODE),,,,coef_ASC_bike_walk,,,,,,,,,,,,,,,,,
asc_wlktrn_s2,WLK-TRN-SHARED2,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,coef_ASC_walktrn_s2,,,,,,,,,,,,,,,,,,,
asc_wlktrn_s3,WLK-TRN-SHARED3,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,coef_ASC_walktrn_s3,,,,,,,,,,,,,,,,,,
asc_wlktrn_walk,WLK-TRN-WALK,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,,coef_ASC_walktrn_walk,,,,,,,,,,,,,,,,,
asc_wlktrn_bike,WLK-TRN-BIKE,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,,,coef_ASC_walktrn_bike,,,,,,,,,,,,,,,,
asc_wlktrn_ridehail,WLK-TRN-RIDE-HAIL,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,,,,,,,,,,,,,,,,,coef_ASC_walktrn_taxi,coef_ASC_walktrn_tnc_single,coef_ASC_walktrn_tnc_shared
asc_wlktrn_mr,WLK-TRN-MR,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,,,,,,coef_ASC_wlktrn_mr,,,,,,,,,,,,,
asc_wlktrn_bm,WLK-TRN-BM,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,,,,,coef_ASC_wlktrn_bm,,,,,,,,,,,,,,
asc_wlktrn_cr,WLK-TRN-CR,@(df.is_indiv) & (df.i_tour_mode.isin(I_WALK_TRANSIT_MODES)),,,,,,,,,coef_ASC_wlktrn_cr,,,,,,,,,,,,
asc_pnr_mr,PNR-TRN-MR,@(df.is_indiv) & (df.i_tour_mode.isin(I_PNR_TRANSIT_MODES)),,,,,,,,,,,,coef_ASC_pnr_mr,,,,,,,,,
asc_pnr_bm,PNR-TRN-BM,@(df.is_indiv) & (df.i_tour_mode.isin(I_PNR_TRANSIT_MODES)),,,,,,,,,,,coef_ASC_pnr_bm,,,,,,,,,,
asc_pnr_cr,PNR-TRN-CR,@(df.is_indiv) & (df.i_tour_mode.isin(I_PNR_TRANSIT_MODES)),,,,,,,,,,,,,coef_ASC_pnr_cr,,,,,,,,
asc_knr_mr,KNR-TRN-MR,@(df.is_indiv) & (df.i_tour_mode.isin(I_KNR_TRANSIT_MODES)),,,,,,,,,,,,,,,,coef_ASC_knr_mr,,,,,
asc_knr_bm,KNR-TRN-BM,@(df.is_indiv) & (df.i_tour_mode.isin(I_KNR_TRANSIT_MODES)),,,,,,,,,,,,,,,coef_ASC_knr_bm,,,,,,
asc_knr_cr,KNR-TRN-CR,@(df.is_indiv) & (df.i_tour_mode.isin(I_KNR_TRANSIT_MODES)),,,,,,,,,,,,,,,,,coef_ASC_knr_cr,,,,
asc_ridehail_s2,RIDEHAIL-SHARED2,@(df.is_indiv) & (df.i_tour_mode.isin(I_RIDE_HAIL_MODES)),,coef_ASC_rh_s2,,,,,,,,,,,,,,,,,,,
asc_ridehail_s3,RIDEHAIL-SHARED3,@(df.is_indiv) & (df.i_tour_mode.isin(I_RIDE_HAIL_MODES)),,,coef_ASC_rh_s3,,,,,,,,,,,,,,,,,,
asc_ridehail_walk,RIDEHAIL-WALK,@(df.is_indiv) & (df.i_tour_mode.isin(I_RIDE_HAIL_MODES)),,,,coef_ASC_rh_walk,,,,,,,,,,,,,,,,,
asc_taxi,Any TAXI,1,,,,,,,,,,,,,,,,,,,coef_ASC_taxi,,
asc_tnc_single,Any TNC_SINGLE,1,,,,,,,,,,,,,,,,,,,,coef_ASC_tnc_single,
asc_tnc_shared,Any TNC_SHARED,1,,,,,,,,,,,,,,,,,,,,,coef_ASC_tnc_shared
asc_s2_nostops,SR2 with no stops,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR2_MODES)) & (df.no_stops),coef_ASC_nostop_s2_da,,,,,,,,,,,,,,,,,,,,
asc_s3_nostops,SR3 with no stops,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR3P_MODES)) & (df.no_stops),coef_ASC_nostop_s3_da,coef_ASC_nostop_s3_s2,,,,,,,,,,,,,,,,,,,
asc_s2_obstopsGT0_first,SR2 total ob stops gt 0 and first,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR2_MODES)) & (df.ob_stops > 0) & df.first_trip,coef_ASC_obstops_first_s2_da,,,,,,,,,,,,,,,,,,,,
asc_s3_obstopsGT0_first,SR2 total ob stops gt 0 and first,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR3P_MODES)) & (df.ob_stops > 0) & df.first_trip,coef_ASC_obstops_first_s3_da,coef_ASC_obstops_first_s3_s2,,,,,,,,,,,,,,,,,,,
asc_s2_ibstopsGT0_last,SR2 total ob stops gt 0 and first,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR2_MODES)) & (df.ib_stops > 0) & df.last_trip,coef_ASC_ibstops_last_s2_da,,,,,,,,,,,,,,,,,,,,
asc_s3_ibstopsGT0_last,SR2 total ob stops gt 0 and first,@(df.is_indiv) & (df.i_tour_mode.isin(I_SR3P_MODES)) & (df.ib_stops > 0) & df.last_trip,coef_ASC_ibstops_last_s3_da,coef_ASC_ibstops_last_s3_s2,,,,,,,,,,,,,,,,,,,
# School Trips Only
asc_schbus,School bus ascs,tour_mode_is_school_bus,,coef_ASC_schbus_s2,coef_ASC_schbus_s3,coef_ASC_schbus_walk,,,,,,,,,,,,,,,,,
avail_school,School Availability Fix,tour_mode_is_school_bus,-999,,,,,,,,,-999,-999,-999,-999,-999,-999,-999,-999,,,,
#avail_schooltour,School purpose avail,@df.primary_purpose=='school',,,,,,,,,,-999,-999,-999,-999,-999,-999,-999,-999,,,,
# Joint Trip ASCs
asc_joint,Joint Tour ASCs,@df.is_joint,,coef_ASC_joint_sr2,coef_ASC_joint_sr3,coef_ASC_joint_walk,coef_ASC_joint_bike,coef_ASC_joint_walktrn,coef_ASC_joint_walktrn,coef_ASC_joint_walktrn,coef_ASC_joint_walktrn,coef_ASC_joint_pnrtrn,coef_ASC_joint_pnrtrn,coef_ASC_joint_pnrtrn,coef_ASC_joint_pnrtrn,coef_ASC_joint_knrtrn,coef_ASC_joint_knrtrn,coef_ASC_joint_knrtrn,coef_ASC_joint_knrtrn,,coef_ASC_joint_rh,coef_ASC_joint_rh,coef_ASC_joint_rh
